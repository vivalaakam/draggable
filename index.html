<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="../js/jquery.js" ></script>
    <script>
      $(document).ready(function() {
        var desktop = $('#desktop'),
                work = desktop.find('#work'),
                panel = desktop.find('#panel'), $active = false;

        work.find('[data-type=draggable]').each(function() {
          var $this = $(this), $header = $this.find('.panel-heading');
          $header.mousedown(function(e) {
            console.log(e);
            $active = $this;
          });

          $header.mousemove(function(e) {
            e.preventDefault();
            if ($active) {
              if ($active.data('drag')) {
                $active.css({left: e.pageX - 125, top: e.pageY});
              } else {
                $active.find('.panel-body').hide();
                $active.width(250);
                $active.css({position: 'absolute', left: e.pageX - 125, top: e.pageY});
                $active.mouseup(function(e) {
                  console.log('mouseup');
                  $active = false;
                });
                $active.data('drag', true);
              }
            }
          });

          $header;
        });
      });
    </script>
    <style>
      body {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 14px;
        line-height: 1.428571429;
        color: #333333;
        height: 100%;
      }

      .col-md-3 {
        width: 23%;
      }

      .col-md-9 {
        width: 73%;
      }

      .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11 {
        float: left;
      }

      .col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12, .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12, .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12, .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
        position: relative;
        min-height: 1px;
        padding-right: 15px;
        padding-left: 15px;
      }

      .panel {
        margin-bottom: 20px;
        background-color: #ffffff;
        border: 1px solid transparent;
        border-radius: 4px;
        -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
      }

      .panel-primary {
        border-color: #428bca;
      }

      .panel-heading {
        padding: 10px 15px;
        border-bottom: 1px solid transparent;
        border-top-right-radius: 3px;
        border-top-left-radius: 3px;
      }

      .panel-primary > .panel-heading {
        color: #ffffff;
        background-color: #428bca;
        border-color: #428bca;
      }

      .panel-title {
        margin-top: 0;
        margin-bottom: 0;
        font-size: 16px;
      }

      .panel-body {
        padding: 15px;
      }

      #desktop {
        min-height: 100%;
        height: auto !important;
        height: 100%;
        margin: 0 auto -60px;
      }

      #panel   {
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        border: 1px solid #DDD;
      }
      #work {
        position: absolute;
        top: 0px;
        left: 0px;
        bottom: 0px;
      }
    </style>
  </head>
  <body>
    <div id="desktop">
      <div class="col-md-9" id="work">
        <div class="panel panel-primary" data-type="draggable">
          <div class="panel-heading">
            <h3 class="panel-title">Panel title</h3>
          </div>
          <div class="panel-body">
            Panel content
          </div>
        </div>
      </div>
      <div class="col-md-3" id="panel"></div>
    </div>
  </body>
</html>
